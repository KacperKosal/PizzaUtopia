@page "/biometry"
@using PizzaUtopia.Components.Elements.ToggleSwitch
@using PizzaUtopia.Components.Elements.Buttons

@inject NavigationManager Navigation

<link href="https://fonts.googleapis.com/css?family=Jua" rel="stylesheet">
<link rel="stylesheet" href="Profile.css">

<div class="biometry-container">
    <!-- Nagłówek z przyciskiem powrotu i tytułem -->
    <div class="header">
        <button class="back-button" @onclick="NavigateBack">
            <img src="Images/back-arrow.png" alt="Powrót" />
        </button>
        <h2 class="page-title">Biometria</h2>
    </div>

    <!-- Przełącznik biometrii -->
    <div class="toggle-wrapper">
        <div class="toggle-container">
            <label for="biometryToggle" class="toggle-label">Biometria</label>
            <ToggleSwitch OnToggle="HandleToggle" IsChecked="@isBiometryEnabled"></ToggleSwitch>
        </div>
    </div>

    <!-- Przyciski do edycji i dodania odcisku palca -->
    <div class="button-container">
        <button class="action-button" @onclick="EditFingerprint">Edytuj odcisk palca</button>
        <button class="action-button" @onclick="AddFingerprint">Dodaj kolejny odcisk palca</button>
    </div>
</div>

<!-- Dolny pasek nawigacyjny -->
<div class="bottom-nav">
    <button class="nav-button" @onclick="RedirectToMenu">
        <img src="Images/home-icon.png" alt="Home" />
    </button>
    <button class="nav-button" @onclick="RedirectToCart">
        <img src="Images/cart-icon.png" alt="Cart" />
    </button>
    <button class="nav-button" @onclick="RedirectToProfile">
        <img src="Images/profile-icon.png" alt="Profile" />
    </button>
</div>

@code {
    /// <summary>
    /// Zmienna do zarządzania stanem przełącznika biometrii.
    /// </summary>
    private bool isBiometryEnabled = false;

    /// <summary>
    /// Nawiguje do poprzedniej strony (profilu).
    /// </summary>
    private void NavigateBack()
    {
        Navigation.NavigateTo("/profile");
    }

    /// <summary>
    /// Nawiguje do strony menu.
    /// </summary>
    private void RedirectToMenu() => Navigation.NavigateTo("/menu");

    /// <summary>
    /// Nawiguje do strony koszyka.
    /// </summary>
    private void RedirectToCart() => Navigation.NavigateTo("/cart");

    /// <summary>
    /// Nawiguje do strony profilu.
    /// </summary>
    private void RedirectToProfile() => Navigation.NavigateTo("/profile");

    /// <summary>
    /// Obsługuje akcję edycji odcisku palca.
    /// </summary>
    private void EditFingerprint()
    {
        Console.WriteLine("Edytuj odcisk palca");
        // Tu można dodać logikę edycji odcisku palca
    }

    /// <summary>
    /// Obsługuje akcję dodania nowego odcisku palca.
    /// </summary>
    private void AddFingerprint()
    {
        Console.WriteLine("Dodaj kolejny odcisk palca");
        // Tu można dodać logikę dodania odcisku palca
    }

    /// <summary>
    /// Obsługuje przełączanie stanu biometrii.
    /// </summary>
    /// <param name="sender">Obiekt wywołujący zdarzenie.</param>
    /// <param name="e">Argumenty zdarzenia.</param>
    private void HandleToggle(object sender, EventArgs e)
    {
        isBiometryEnabled = !isBiometryEnabled;
        Console.WriteLine("Biometria: " + (isBiometryEnabled ? "włączona" : "wyłączona"));
    }
}